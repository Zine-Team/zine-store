{% set typeClasses = {
    button: "leading-none bg-white-smoke hover:bg-ghost-white border border-dark-grey shrink-0 rounded-xs shadow-2xs",
    link: "text-lg text-link visited:text-link-visited underline hover:no-underline underline-offset-2"
}%}

{% set sizeClasses = {
    base: "text-lg font-semibold py-4 px-5",
    lg: "text-xl font-bold py-5 px-6"
}%}

{%- macro button(
    label=None,
    href=None,
    class,
    newTab,
    disabled=false,
    attrs= {},
    type="button",
    size=None
) -%}

    <{% if href %}a href="{{href}}"{% else %}button{% endif %}

        {% if newTab %} target="_blank" {% endif %}
        {% if disabled %}disabled{% endif %}

        class="block disabled:opacity-60 active:scale-[.98] {{ class }} {% if page.url == href + '/' %} selected {% endif %} {% if disabled %}pointer-events-none{% endif %} {{ typeClasses[type] }} {{ sizeClasses[size] }}"

        {% for key, value in attrs %}
            {% if key != 'class' %}{{ key }}="{{ value }}"{% endif %}
        {% endfor %}
    >

        {%- if label -%}
            {{label}}
        {%- else -%}
            {{ caller() | safe }}
        {%- endif -%}

    </{% if href %}a{% else %}button{% endif %}>

{%- endmacro -%}
